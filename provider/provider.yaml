identity:
  author: joto
  name: schemarag
  label:
    en_US: Schema RAG
    zh_Hans: Schema RAG
    pt_BR: Schema RAG
  description:
    en_US: Automatically create database schema knowledge base to build RAGs. Nodes containing natural language to SQL functionality based on schemaRAG
    zh_Hans: 自动创建数据库schema知识库构建RAG。包含基于schemaRAG的自然语言转SQL功能的节点
    pt_BR: Construa um esquema para RAG no conjunto de dados Dify. Contém nós que executam a função text2sql com base no schemaRAG.
  icon: logo.jpg
  tags:
    - business
    - other

credentials_for_provider:
  api_uri:
    type: text-input
    required: true
    label:
      en_US: Dify API URI
      zh_Hans: Dify API 地址
      pt_BR: Dify API URI
    placeholder:
      en_US: http://localhost/v1
      zh_Hans: http://localhost/v1
      pt_BR: http://localhost/v1
    default: "http://localhost/v1"

  dataset_api_key:
    type: secret-input
    required: true
    label:
      en_US: Dify Dataset API key
      zh_Hans: Dify 知识库 API key
      pt_BR: Dify Dataset API key
    placeholder:
      en_US: Please input your Dify Dataset API key
      zh_Hans: 请输入你的 Dify 知识库 API key
      pt_BR: Please input your Dify Dataset API key

  db_type:
    type: select
    required: true
    label:
      en_US: Database type
      zh_Hans: 数据库类型
      pt_BR: Database type
    options:
      - value: mysql
        label:
          en_US: MySQL
          zh_Hans: MySQL
          pt_BR: MySQL
      - value: postgresql
        label:
          en_US: PostgreSQL
          zh_Hans: PostgreSQL
          pt_BR: PostgreSQL
      - value: mssql
        label:
          en_US: Microsoft SQL Server
          zh_Hans: Microsoft SQL Server
          pt_BR: Microsoft SQL Server
      - value: oracle
        label:
          en_US: Oracle
          zh_Hans: Oracle
          pt_BR: Oracle
      - value: dameng
        label:
          en_US: Dameng
          zh_Hans: 达梦数据库
          pt_BR: Dameng

  db_host:
    type: text-input
    required: true
    label:
      en_US: Database Host
      zh_Hans: 数据库主机
      pt_BR: Database Host
    placeholder:
      en_US: Database host address
      zh_Hans: 数据库主机地址 
      pt_BR: Database host address

  db_port:
    type: text-input
    required: true
    label:
      en_US: Database Port
      zh_Hans: 数据库端口
      pt_BR: Database Port
    placeholder:
      en_US: "Please input your database port (MySQL:3306, PostgreSQL:5432, MSSQL:1433, Oracle:1521, Dameng:5236)"
      zh_Hans: "请输入数据库端口 (MySQL:3306, PostgreSQL:5432, MSSQL:1433, Oracle:1521, 达梦:5236)"
      pt_BR: "Please input your database port (MySQL:3306, PostgreSQL:5432, MSSQL:1433, Oracle:1521, Dameng:5236)"
    default: "3306"

  db_user:
    type: text-input
    required: true
    label:
      en_US: Database User
      zh_Hans: 数据库用户名
      pt_BR: Database User
    placeholder:
      en_US: Database username 
      zh_Hans: 数据库用户名
      pt_BR: Database username 

  db_password:
    type: secret-input
    required: true
    label:
      en_US: Database Password
      zh_Hans: 数据库密码
      pt_BR: Database Password
    placeholder:
      en_US: Database password 
      zh_Hans: 数据库密码
      pt_BR: Database password 

  db_name:
    type: text-input
    required: true
    label:
      en_US: Database Name
      zh_Hans: 数据库名称
      pt_BR: Database Name
    placeholder:
      en_US: Database name
      zh_Hans: 数据库名称
      pt_BR: Database name


  # build_rag:
  #   type: boolean
  #   required: true
  #   label:
  #     en_US: Build RAG
  #     zh_Hans: 构建 RAG
  #     pt_BR: Build RAG
  #   placeholder:
  #     en_US: Build RAG
  #     zh_Hans: 构建 RAG
  #     pt_BR: Build RAG

  tables_name:
    type: text-input
    required: false
    label:
      en_US: Tables Name
      zh_Hans: 数据表名称
      pt_BR: Tables Name
    placeholder:
      en_US: Tables name(optional, multiple table names separated by commas)
      zh_Hans: 数据表名称(可选, 多个表名用逗号分隔)
      pt_BR: Tables name(optional, multiple table names separated by commas)

supported_app_types:
  - workflow
  - chatbot
tools:
  - tools/text2sql.yaml
  - tools/text2data.yaml
  - tools/sql_executer.yaml
  - tools/sql_executer_cust.yaml
  - tools/data_summary.yaml
  - tools/llm_plot.yaml
extra:
  python:
    source: provider/build_schema_rag.py
    provider: SchemaRAGBuilderProvider
